/* Hide the dark/light mode toggle button - rely on system preference only */
/* MyST book-theme places the theme toggle in the header actions area */
/* Targeting various possible implementations of the theme toggle */
button[aria-label*="dark" i],
button[aria-label*="light" i],
button[aria-label*="theme" i],
button[title*="dark" i],
button[title*="light" i],
button[title*="theme" i],
.theme-toggle,
.dark-mode-toggle,
.color-mode-toggle,
/* Target the MyST theme toggle by its location in the header */
header button[class*="theme"],
header button[class*="dark"],
header button[class*="mode"],
/* Target buttons with moon/sun icons commonly used for theme toggles */
button svg[class*="moon" i],
button svg[class*="sun" i],
button:has(svg[class*="moon" i]),
button:has(svg[class*="sun" i]),
/* Fallback: target buttons in the header navigation area that might be the toggle */
nav.myst-header button:not([aria-label*="menu" i]):not([aria-label*="search" i]) {
  display: none !important;
}

/* Fix search box blue tint in dark mode */
.dark .myst-search-bar {
  background-color: #262626 !important;
  border-color: #404040 !important;
}

.dark .myst-search-bar:hover {
  background-color: #303030 !important;
}

/* Fix modal backdrop blue tint */
.bg-\[\#656c85cc\] {
  background-color: rgba(38, 38, 38, 0.8) !important;
}

.myst-fm-block-header {
  display: none !important;
}

/* Custom header styling */
.myst-header-title {
  font-weight: 700;
  letter-spacing: -0.02em;
  background: linear-gradient(135deg, #dc3c22 0%, #10b981 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* Visual section separators */
article hr {
  border: none;
  height: 2px;
  background: linear-gradient(90deg, transparent, #e5e7eb 20%, #e5e7eb 80%, transparent);
  margin: 3rem 0;
}

.dark article hr {
  background: linear-gradient(90deg, transparent, #404040 20%, #404040 80%, transparent);
}

/* Card hover enhancement */
.grid-item-card {
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.grid-item-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
}

.dark .grid-item-card:hover {
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
}

/* Link accent color */
article a:not(.grid-item-card) {
  color: #dc3c22;
  transition: color 0.2s ease;
}

article a:not(.grid-item-card):hover {
  color: #a82f1a;
}

.dark article a:not(.grid-item-card) {
  color: #ffc857;
}

.dark article a:not(.grid-item-card):hover {
  color: #ffb624;
}

/* Card hover border accent */
.grid-item-card:hover {
  border-color: #dc3c22;
}

.dark .grid-item-card:hover {
  border-color: #ffc857;
}

/* Inline code accent - exclude code blocks in paragraphs */
article code:not(pre code):not(p > code) {
  border-left: 2px solid #dc3c22;
  padding-left: 0.5em;
}

.dark article code:not(pre code):not(p > code) {
  border-left-color: #ffc857;
}

/* Blockquote and pull quote accent - single bar only */
article blockquote:not(.pull-quote blockquote),
.pull-quote {
  border-left: 4px solid #dc3c22 !important;
  border-right: none !important;
  border-top: none !important;
  border-bottom: none !important;
  padding-left: 1.5rem;
}

.dark article blockquote:not(.pull-quote blockquote),
.dark .pull-quote {
  border-left-color: #ffc857 !important;
}

/* Remove border from blockquotes inside pull-quote containers to avoid double bars */
.pull-quote blockquote {
  border: none !important;
  padding-left: 0 !important;
}

/* Remove border from figures containing blockquotes/pull-quotes to avoid double bars */
figure:has(blockquote),
figure:has(.pull-quote) {
  border: none !important;
}

/* Section heading accent (h3) */
article h3 {
  border-bottom: 2px solid #dc3c22;
  padding-bottom: 0.5rem;
  display: inline-block;
}

.dark article h3 {
  border-bottom-color: #ffc857;
}

/* Table of contents sidebar accent */
/* Override default blue colors in TOC - target Tailwind classes */
nav a[class*="text-blue"],
nav span[class*="text-blue"],
aside a[class*="text-blue"],
aside span[class*="text-blue"],
.toc-level-1 > a,
.toc-level-2 > a,
nav .toc a,
aside nav a {
  color: inherit !important;
}

.toc-level-1 > a:hover,
.toc-level-2 > a:hover,
nav .toc a:hover,
aside nav a:hover {
  color: #dc3c22 !important;
}

.dark .toc-level-1 > a:hover,
.dark .toc-level-2 > a:hover,
.dark nav .toc a:hover,
.dark aside nav a:hover {
  color: #ffc857 !important;
}

/* Active page in TOC */
.toc-level-1 > a[aria-current="page"],
.toc-level-2 > a[aria-current="page"],
nav .toc a[aria-current="page"],
aside nav a[aria-current="page"],
nav a.active,
.toc a.active {
  color: #dc3c22 !important;
  background-color: rgba(220, 60, 34, 0.1) !important;
  border-left-color: #dc3c22 !important;
}

.dark .toc-level-1 > a[aria-current="page"],
.dark .toc-level-2 > a[aria-current="page"],
.dark nav .toc a[aria-current="page"],
.dark aside nav a[aria-current="page"],
.dark nav a.active,
.dark .toc a.active {
  color: #ffc857 !important;
  background-color: rgba(255, 200, 87, 0.1) !important;
  border-left-color: #ffc857 !important;
}

/* TOC section headers (like "Understanding Gradients") */
/* Override Tailwind blue classes */
nav a[class*="text-blue"],
nav span[class*="text-blue"],
aside a[class*="text-blue"],
aside span[class*="text-blue"],
.text-blue-600,
.text-blue-500,
.text-primary,
nav a.text-primary,
aside a.text-primary {
  color: #dc3c22 !important;
}

.dark nav a[class*="text-blue"],
.dark nav span[class*="text-blue"],
.dark aside a[class*="text-blue"],
.dark aside span[class*="text-blue"],
.dark .text-blue-600,
.dark .text-blue-500,
.dark .text-primary,
.dark nav a.text-primary,
.dark aside a.text-primary {
  color: #ffc857 !important;
}

/* TOC expand/collapse icons */
nav button:hover {
  color: #dc3c22 !important;
}

.dark nav button:hover {
  color: #ffc857 !important;
}
